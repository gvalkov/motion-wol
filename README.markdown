Motion WOL
==========

*Motion Wake-on-Lan* is just a small pet project I use to wake up various PCs
around the house. It features a simple python DSL that makes defining the wake
conditions for a given host convenient.

Motion events are generated by a PIR sensor and are fed to a named pipe that
motion-wol polls on (or whatever asyncore uses by default).

*Motionwol* also exposes a few xmlrpc methods for disabling/enabling wake
rules. I used these from a [Tasker][tasker] homescreen widget that called into
[sl4a][sl4a] scripts (I'm not really big on Java, the language).

This is one of those projects that shouldn't have been more than 50 lines long.
Still, it sure feels nice hacking something pointless together every once in a
while.

Example DSL Rule
----------------

The following rule would wake the host with MAC '00:11:22:33:44:55', if it's
between 18:30 and and 23:30, on a weekday, and at least 5 minutes have past
since the previous motion event. All motion events received within 100 seconds
of the last successful ping to the host would be ignored (this lets you to
sleep your pc and go to bed or out of the house, without immediately waking it
up again (Actually, I don't think I ever got around to implementing the hold
off interval - it was already good enough for my needs))

```python
Rule(
  Host('192.168.1.101', '00:11:22:33:44:55'),
  HoldOff(100),
  When(
    And (
      TimeBetween(time(18, 30, 00), time(23, 30, 00)),
      InactiveFor(300),
      Not (DayOfWeek(6, 5)),
  )))
```


[tasker]: http://tasker.dinglisch.net/
[sl4a]:   http://code.google.com/p/android-scripting/
